# 軍儀 GUI

## 軍儀について

## 設計
### 要件定義
- 1つのページでの対人戦
  - 駒の操作（配置、移動、取り消し）
  - 盤面表示
    - 駒の動ける範囲の表示（オプショナル）
  - 駒の種類とルールの実装
- ルールベースやAI対戦

### 画面設計（UI/UX設計）
- 1ページで完結するシンプルなUI
- 対戦開始画面
  - 対人戦か、AI戦かの選択
  - ルールの選択
    - 入門編
    - 初級編
    - 中級編
    - 上級編
- 対戦画面
  - 盤面
  - 駒の操作
  - 駒の表示
- メニュー
  - ハンバーガーメニューで駒の移動範囲表示オプションを選択可能

- データ構造・ロジック設計
  - 盤面や駒、ルールをどのようなデータ構造で表現するかを検討します。
    - 盤面は2次元配列で表現します。
    - 各マス（Cell）はCellクラスで表現し、最大3つまでの駒（Piece）を配列で保持します（軍儀の「ツケ」ルール対応）。
    - Piece（駒）は種類・陣営・表裏・状態（isAvailable: 操作可能か否か）などを持つオブジェクトとして表現します。
      - Piece自体には位置情報を持たせず、CellがPieceの配列を管理します。
      - isAvailableは、ツケの最上段の駒のみtrueとなり、他はfalseとします。
    - ルールは関数やクラスで実装し、駒の動きや勝利条件を定義します。
    - 例：
      - type Cell = object
          pieces: seq[Piece]  # 先頭が最下段、末尾が最上段
      - type Piece = object
          kind, side, isFaceUp, isAvailable など
  - ゲーム進行の流れや状態管理の方法も考えます。

- 技術選定
  - Nimを使用し、HTML/JSでの実装を検討します。
  - karaxを使用したSPAで、外部APIの連携はないシンプルな構成を目指します。

- 機能追加・テスト
  - 段階的に機能を追加し、テストしながら進めます。

## ToDo
- [x] 盤面の表示
- [ ] 駒の操作
  - [ ] 駒の配置
    - [ ] 配置可能な駒の表示
  - [ ] 駒の移動
    - [x] 駒ごとの移動可能範囲の表示
    - [ ] 移動処理
  - [ ] 駒の衝突判定
    - [ ] ツケ（置く）ルールの実装
    - [ ] 取る